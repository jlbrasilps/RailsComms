<div class="w-full h-16 bg-gray-900 flex justify-center fixed top-0"> 
  <div class="max-w-5xl w-full flex items-center justify-between">
    <div class="flex items-center gap-4">
      <%= link_to "#", data: { action: "click->sidebar#toggle" } do %>
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-10 text-gray-100">
          <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 5.25h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5m-16.5 4.5h16.5" />
        </svg>
      <% end %>

      <%= link_to "Home", root_path, class: "text-xl text-gray-100" %>
    </div>
    <% if current_user %>
      <div class="relative" data-controller="dropdown" data-action="click@window->dropdown#closeUnlessDropdown">
        <%= link_to "#", data: { action: "dropdown#toggle" } do %>
          <% if current_user.avatar.attached? %>
            <%= image_tag(current_user.avatar, class: "w-14 h-14 object-cover rounded-full") %>
          <% else %>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-14 text-gray-100">
              <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
            </svg>
          <% end %>
        <% end %>

        <div class="absolute top-10 right-4 w-64 h-80 flex flex-col gap-4 bg-gray-700 rounded-lg p-2 hidden" data-dropdown-target="menu">
          <span class="text-xl text-gray-100 text-center"> <%= current_user.username %>#<%= current_user.user_numbers %> </span>
          <%= link_to edit_user_registration_path, class: "hover:bg-gray-500 p-2 flex items-center gap-2" do %>
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 text-gray-100">
              <path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75a4.5 4.5 0 0 1-4.884 4.484c-1.076-.091-2.264.071-2.95.904l-7.152 8.684a2.548 2.548 0 1 1-3.586-3.586l8.684-7.152c.833-.686.995-1.874.904-2.95a4.5 4.5 0 0 1 6.336-4.486l-3.276 3.276a3.004 3.004 0 0 0 2.25 2.25l3.276-3.276c.256.565.398 1.192.398 1.852Z" />
              <path stroke-linecap="round" stroke-linejoin="round" d="M4.867 19.125h.008v.008h-.008v-.008Z" />
            </svg>
            <span class="text-xl text-gray-100"> Account Settings </span>
          <% end %>
          <%= link_to "Sign out", destroy_user_session_path, class: "text-lg text-gray-100 bg-gray-500 px-3 py-2 rounded-lg mt-auto ml-auto",
            data: { turbo_method: :delete } %>
        </div>
      </div>
    <% end %>
  </div>
</div>